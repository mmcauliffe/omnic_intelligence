<div layout="row" layout-align="center start">
    <div layout="column">
        <input type="text" class="form-control" placeholder="Search..." ng-model="searchText"
               dl-enter-key="refreshSearch();">
        <md-card>
            <md-card-content>
                <md-table-container>
                    <table md-table md-progress="promise">
                        <thead md-head md-order="paginateParams.ordering" md-on-reorder="paginatorCallback">

                        <tr md-row>
                            <th md-column ng-click="refreshOrdering('game__match__event__name')">

                                Event
                                <span ng-show="ordering == 'game__match__event__name'" class="fa fa-caret-down"></span>
                                <span ng-show="ordering == '-game__match__event__name'" class="fa fa-caret-up"></span>
                            </th>
                            <th md-column ng-click="refreshOrdering('game__match__wl_id')">
                                Match
                                <span ng-show="ordering == 'game__match__wl_id'" class="fa fa-caret-down"></span>
                                <span ng-show="ordering == '-game__match__wl_id'" class="fa fa-caret-up"></span>
                            </th>
                            <th md-column ng-click="refreshOrdering('game__game_number')">
                                Game
                                <span ng-show="ordering == 'game__game_number'" class="fa fa-caret-down"></span>
                                <span ng-show="ordering == '-game__game_number'" class="fa fa-caret-up"></span>
                            </th>
                            <th md-column>
                                Map
                            </th>
                            <th md-column ng-click="refreshOrdering('round_number')">
                                Round
                                <span ng-show="ordering == 'round_number'" class="fa fa-caret-down"></span>
                                <span ng-show="ordering == '-round_number'" class="fa fa-caret-up"></span>
                            </th>
                            <th md-column ng-click="refreshOrdering('attacking_side')">
                                Attacking Side
                                <span ng-show="ordering == 'attacking_side'" class="fa fa-caret-down"></span>
                                <span ng-show="ordering == '-attacking_side'" class="fa fa-caret-up"></span>
                            </th>
                            <th md-column>
                                VOD
                            </th>
                            <th md-column ng-click="refreshOrdering('stream_vod__broadcast_date')">
                                Date
                                <span ng-show="ordering == 'stream_vod__broadcast_date'"
                                      class="fa fa-caret-down"></span>
                                <span ng-show="ordering == '-stream_vod__broadcast_date'" class="fa fa-caret-up"></span>
                            </th>
                            <th md-column>Heroes used</th>
                            <th md-column>
                                Duration
                            </th>
                            <th md-column ng-click="refreshOrdering('annotation_status')">
                                Annotation status
                                <span ng-show="ordering == 'annotation_status'" class="fa fa-caret-down"></span>
                                <span ng-show="ordering == '-annotation_status'" class="fa fa-caret-up"></span>
                            </th>
                        </tr>
                        </thead>
                        <tbody md-body>
                        <tr md-row ng-repeat="round in results.results">
                            <td md-cell>

                                <a ui-sref="event-detail({event_id: round.game.match.event.id })">{{ round.game.match.event.name }}</a>
                            </td>
                            <td md-cell>

                                <a ui-sref="match-detail({match_id: round.game.match.id })">
                                    {{ round.game.match.teams[0] }} vs
                                    {{ round.game.match.teams[1] }} ({{ round.game.match.wl_id }})</a>
                            </td>
                            <td md-cell>
                                <a ui-sref="game-detail({game_id: round.game.id })">Game {{ round.game.game_number }}</a>

                            </td>
                            <td md-cell> {{ round.game.map.name }}</td>
                            <td md-cell>
                                <a ui-sref="round-detail({round_id: round.id })">Round {{ round.round_number }}</a></td>
                            <td md-cell> {{ round.attacking_side }}</td>
                            <td md-cell><a href="{{ round.stream_vod.url }}">{{ round.stream_vod.title }}
                                ({{ round.stream_vod.id }})</a></td>
                            <td md-cell>{{ round.stream_vod.broadcast_date }}</td>
                            <td md-cell><span class="hero-icon" ng-repeat="hero in round.heroes_used" class="hero-icon"
                                              style="background-image: url(https://www.winstonslab.com/pics/heroes/{{ hero }}-icon-portrait.png)"></span>
                            </td>
                            <td md-cell>{{ round.duration }}</td>
                            <td md-cell> {{ round.annotation_status }}</td>
                        </tr>
                        </tbody>

                    </table>
                </md-table-container>
                <md-table-pagination md-limit="paginateParams.limit" md-limit-options="[5, 10, 15]"
                                     md-page="paginateParams.page" md-total="{{ results.count }}"
                                     md-on-paginate="paginatorCallback" md-page-select></md-table-pagination>
            </md-card-content>
        </md-card>


    </div>
</div>